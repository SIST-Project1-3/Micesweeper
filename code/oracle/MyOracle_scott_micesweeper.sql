-- 멤버 테이블 생성
CREATE TABLE MEMBER(
    ID  VARCHAR2(20) CONSTRAINT MEMBER_PK PRIMARY KEY, -- 기본키
    PW VARCHAR(20) NOT NULL, -- 패스워드는 반드시 입력
    WIN NUMBER(5) DEFAULT 0 NOT NULL, -- 승리횟수는 기본값 0, 반드시 입력
    LOSE NUMBER(5) DEFAULT 0 NOT NULL, -- 패배횟수도 기본값 0, 이하동문
    RDATE DATE DEFAULT SYSDATE NOT NULL -- 등록일자는 기본값 SYSDATE, 반드시 입력
);

-- 게시글 번호 시퀀스 생성
CREATE SEQUENCE BOARD_NO_SEQ
START WITH 1
INCREMENT BY 1;

-- 게시판 테이블 생성
CREATE TABLE BOARD(
 NO NUMBER(10)  CONSTRAINT BOARD_PK PRIMARY KEY , -- NO는 게시글 번호이며, 상단의 시퀀스를 이용하여 글번호를 생성함.
 TITLE VARCHAR(40) NOT NULL, -- 글 제목. 반드시 입력
 CONTENT VARCHAR(1000) NOT NULL, -- 글 내용 1000자 제한. 반드시 입력
 ID VARCHAR(20) NOT NULL, -- 작성자 ID 반드시 입력
 VIEWCOUNT NUMBER(5) DEFAULT 0 NOT NULL, -- 조회수 기본값 0 
 WDATE DATE DEFAULT SYSDATE NOT NULL, -- 작성일자 기본값 SYSDATE 
 CONSTRAINT FK_BOARD FOREIGN KEY (ID) REFERENCES MEMBER(ID) -- 작성자 외래키 설정
);


-- 계정 생성
INSERT INTO MEMBER VALUES('test', '1234', 0, 0, SYSDATE);
-- 계정 목록 확인
SELECT * FROM MEMBER;
-- 게시글 작성
INSERT INTO BOARD VALUES(BOARD_NO_SEQ.NEXTVAL, '제목', '내용', 'test', 0, SYSDATE);
-- 게시글 목록
SELECT * FROM BOARD ORDER BY NO DESC;